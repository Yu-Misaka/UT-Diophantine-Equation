

% Requirement
\RequirePackage{tikz}
\usetikzlibrary{calc}

\RequirePackage{ifthen}
\RequirePackage{kvoptions}
\SetupKeyvalOptions{
	family=LTU,
	prefix=LTU@
}

%Differentiate between XeTex and other Tex Distros
\RequirePackage{ifxetex}

\setbeamersize{text margin left=0.05\paperwidth}
\setlength{\leftmargini}{0.026\paperwidth}





\DeclareStringOption[english]{language}

\ProcessKeyvalOptions*\relax
\ifthenelse{\equal{\LTU@language}{swedish}}{
	\newcommand{\LTU}{LULEÅ TEKNISKA UNIVERISTET}
	\newcommand{\LogoPath}{media/template/swedish/LTU_sve_vit.png}
	\newcommand{\TitleImagePath}{media/template/swedish/title.jpg}
}{
	\newcommand{\LTU}{西安交通大学  XI'AN JIAOTONG UNIVERSITY}
	\newcommand{\LogoPath}{media/template/english/icon.png}
	\newcommand{\TitleImagePath}{media/template/english/title.jpg}
    \newcommand{\TitleImagePathCover}{media/template/english/cover.png}
    \newcommand{\TitleImagePathBlock}{media/template/english/block.png}
    \newcommand{\BackPath}{media/template/english/back.png}
	
}

%GlobalColorDefinitions
\definecolor{mainColor}{HTML}{032040}
\definecolor{white}{HTML}{ffffff}
\definecolor{accentColor}{HTML}{ff8247}
\definecolor{subtleColor}{HTML}{89a5be}

\mode<presentation>

\useinnertheme{LTU}
\useoutertheme{LTU}
\usefonttheme{LTU}
\usecolortheme{LTU}

\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{blocks}[rounded][shadow=true]
\setbeamertemplate{itemize items}[square]


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%									Special Slides								%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%										Agenda									%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newenvironment{agenda}[1]{
	% Environment definition
	\begin{frame}{Agenda}
		% Custom settings e.g., background
	\end{frame}
}{
\end{frame}
}

\AtEndDocument{
	\begin{frame}[plain]
		\begin{tikzpicture}[remember picture, overlay]
          	\node[at=(current page.center), anchor=center, inner sep=0] {\includegraphics[height=0.2\paperheight, keepaspectratio]{\LogoPath}};
        \end{tikzpicture}
	\end{frame}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%                       Marcus Liwicki Presentation Mode                        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\liwicki}[2][1]{%
	\alt<#1>{\textcolor{white}{#2}}{\textcolor{subtleColor}{#2}}%
}



\mode<all>